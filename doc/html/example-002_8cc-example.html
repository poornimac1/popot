<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>popot-1.10: example-002.cc</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">popot-1.10
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">example-002.cc</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">// In this example, we completely define a swarm</span></div>
<div class="line"><span class="comment">// made of Modified Barebone particles</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// We first define the generator of random numbers</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="rng__generators_8h.html">rng_generators.h</a>&quot;</span></div>
<div class="line"><span class="keyword">typedef</span> <a name="_a0"></a><a class="code" href="classpopot_1_1rng_1_1JKissRNG.html">popot::rng::JKissRNG</a> RNG_GENERATOR;</div>
<div class="line"></div>
<div class="line"><span class="comment">// And then include our headers (these make use of the RNG_GENERATOR, so we must include </span></div>
<div class="line"><span class="comment">// them after the definition of RNG_GENERATOR</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="popot_8h.html">popot.h</a>&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Define our problem</span></div>
<div class="line"><span class="comment">// here Rosenbrock in 30 dimensions (see problems.h)</span></div>
<div class="line"><span class="keyword">typedef</span> <a name="_a1"></a><a class="code" href="classpopot_1_1problems_1_1Rosenbrock.html" title=" with  Bounds [-30,30]">popot::problems::Rosenbrock&lt;30&gt;</a> Problem;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Define our initializers for the position and velocity</span></div>
<div class="line"><span class="keyword">typedef</span> <a name="_a2"></a><a class="code" href="classpopot_1_1PSO_1_1initializer_1_1PositionUniformRandom.html">popot::PSO::initializer::PositionUniformRandom</a> PositionInit;</div>
<div class="line"><span class="keyword">typedef</span> <a name="_a3"></a><a class="code" href="classpopot_1_1PSO_1_1initializer_1_1VelocityZero.html">popot::PSO::initializer::VelocityZero</a> VelocityInit;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Let&#39;s define our particle</span></div>
<div class="line"><span class="keyword">typedef</span> <a name="_a4"></a><a class="code" href="classpopot_1_1PSO_1_1particle_1_1ModifiedBareboneParticle.html" title="The template parameters is the problem you want to solve, and the parameters (inertia, accelaration) of the velocity update rule In this implementation, the center of the normal distribution is the mean between the personal best and local best positions (other variations exist, using a random personal best in the neighbor instead of the local best for example)">popot::PSO::particle::ModifiedBareboneParticle&lt;Problem, PositionInit, VelocityInit&gt;</a> Particle;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// The topology</span></div>
<div class="line"><span class="comment">// Let&#39;s use 25 particles </span></div>
<div class="line"><span class="comment">//typedef popot::PSO::topology::AdaptiveRandom&lt;25, 3, Particle&gt; Topology;</span></div>
<div class="line"><span class="keyword">typedef</span> <a name="_a5"></a><a class="code" href="classpopot_1_1PSO_1_1topology_1_1RandomInformants.html" title="Some probabilistic connectivity so that most of the particles will have K informants.">popot::PSO::topology::RandomInformants&lt;25, 3, Particle&gt;</a> Topology;</div>
<div class="line"><span class="comment">//typedef popot::PSO::topology::Full&lt;25, Particle&gt; Topology;</span></div>
<div class="line"><span class="comment">//typedef popot::PSO::topology::Ring&lt;25, Particle&gt; Topology;</span></div>
<div class="line"><span class="comment">//typedef popot::PSO::topology::VonNeuman&lt;5, 5, Particle&gt; Topology;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// For the algorithm type, we need to mention</span></div>
<div class="line"><span class="comment">// if we use synchronous or asynchronous evaluation</span></div>
<div class="line"><span class="comment">// as well as the criteria to stop iterating</span></div>
<div class="line"><span class="keyword">class </span>PSO_Params</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">static</span> <span class="keywordtype">int</span> evaluation_mode() {<span class="keywordflow">return</span> <a name="a6"></a><a class="code" href="namespacepopot_1_1PSO_1_1algorithm.html#a1807a99f98f02dd70a74ab24d56f0953a7af951ab1a5d7cb85ee4fd1176e872e0">popot::PSO::algorithm::ASYNCHRONOUS_EVALUATION</a>;}</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">// For the stopping criteria, we use the one provided by the problem</span></div>
<div class="line"><span class="comment">// Be carefull, the Problem keeps track internally of the number of Function evaluations and this criteria is included in the condition to stop</span></div>
<div class="line"><span class="keyword">class </span>StopCriteria</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">static</span> <span class="keywordtype">bool</span> stop(<span class="keywordtype">double</span> fitness, <span class="keywordtype">int</span> epoch)</div>
<div class="line">  {</div>
<div class="line">    <span class="keywordflow">return</span> Problem::stop(fitness, epoch);</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// We can now define our algorithm</span></div>
<div class="line"><span class="keyword">typedef</span> <a name="_a7"></a><a class="code" href="classpopot_1_1PSO_1_1algorithm_1_1Base.html">popot::PSO::algorithm::Base&lt;PSO_Params, Particle, Topology, StopCriteria&gt;</a> PSO;</div>
<div class="line"></div>
<div class="line"><span class="comment">// **************************************** //</span></div>
<div class="line"><span class="comment">// ************** Main ******************** //</span></div>
<div class="line"><span class="comment">// **************************************** //</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[]) {</div>
<div class="line"></div>
<div class="line">  RNG_GENERATOR::rng_srand();</div>
<div class="line">  RNG_GENERATOR::rng_warm_up();</div>
<div class="line">  </div>
<div class="line">  <span class="comment">// To keep track of the best particle ever found</span></div>
<div class="line">  PSO::BestType best_particle;</div>
<div class="line"></div>
<div class="line">  Problem::init();</div>
<div class="line">  </div>
<div class="line">  <span class="comment">// Let&#39;s create our swarm</span></div>
<div class="line">  PSO pso;</div>
<div class="line">  </div>
<div class="line">  <span class="comment">// We now run our algorithm</span></div>
<div class="line">  pso.run(1);</div>
<div class="line">  </div>
<div class="line">  <span class="comment">// Some display</span></div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Best particle : &quot;</span> &lt;&lt; *(pso.getBest()) &lt;&lt; std::endl;</div>
<div class="line"></div>
<div class="line">  Problem::free();</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.1
</small></address>
</body>
</html>
